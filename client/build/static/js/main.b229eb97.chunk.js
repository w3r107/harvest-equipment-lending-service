(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{152:function(e,t,c){},203:function(e,t,c){},204:function(e,t,c){},307:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(34),s=c.n(n),a=(c(203),c(2)),o=(c.p,c(204),c(41)),i=c(33),l=c(6),j=c(23),d=c(17),b=c.n(d),u=c(30),h=c(318),O=c(310),m=c(311),x=c(321),p=c(47),f=(c(152),c(40)),g=c.n(f),v=c(1);var y=function(e){var t=JSON.parse(localStorage.getItem("user")),c=Object(v.jsxs)(h.a,{children:[Object(v.jsx)(h.a.Item,{children:Object(v.jsx)("a",{href:"/",children:"Home"})}),Object(v.jsx)(h.a.Item,{children:Object(v.jsx)("a",{href:"/userbookings",children:"Bookings"})}),Object(v.jsx)(h.a.Item,{children:Object(v.jsx)("a",{href:"/admin",children:"Admin"})}),Object(v.jsx)(h.a.Item,{onClick:function(){localStorage.removeItem("user"),window.location.href="/login"},children:Object(v.jsx)("li",{style:{color:"orangered"},children:"Logout"})})]});return Object(v.jsxs)("div",{className:"hi",children:[Object(v.jsx)("div",{className:"header bs1",children:Object(v.jsx)(O.a,{gutter:16,justify:"center",children:Object(v.jsx)(m.a,{lg:20,sm:24,xs:24,children:Object(v.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(v.jsx)("h1",{children:Object(v.jsx)("b",{children:Object(v.jsx)(o.b,{to:"/",style:{color:"orangered"},children:"FARM-X"})})}),Object(v.jsx)(x.a,{overlay:c,placement:"bottomCenter",children:Object(v.jsx)(p.a,{children:t.username})})]})})})}),Object(v.jsx)("div",{className:"content",children:e.children}),Object(v.jsxs)("div",{className:"footer text-center",children:[Object(v.jsx)("hr",{}),Object(v.jsx)("p",{children:"Desinged and Developed By"}),Object(v.jsx)("p",{children:"FARM-X"})]})]})},N=c(193),w=function(){return function(){var e=Object(u.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.get("/api/cars/getallcars");case 4:c=e.sent,t({type:"GET_ALL_CARS",payload:c.data}),t({type:"LOADING",payload:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:"LOADING",payload:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},k=c(313),I=c(149),S=c(315),D=c(312);var A=function(){return Object(v.jsx)("div",{className:"spinner",children:Object(v.jsx)(D.a,{size:"large"})})},T=c(49),R=c.n(T);S.a.RangePicker;var C=function(){var e=Object(j.c)((function(e){return e.carsReducer})).cars,t=Object(j.c)((function(e){return e.alertsReducer})).loading,c=Object(r.useState)([]),n=Object(l.a)(c,2),s=n[0],a=n[1],i=Object(r.useState)(""),d=Object(l.a)(i,2),b=d[0],u=d[1],h=Object(r.useState)([]),m=Object(l.a)(h,2),x=(m[0],m[1],Object(j.b)()),p=Object(r.useState)([]),f=Object(l.a)(p,2),g=f[0],N=f[1];return Object(r.useEffect)((function(){x(w())}),[]),Object(r.useEffect)((function(){a(e)}),[s,e,g]),Object(v.jsx)(y,{children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)("div",{className:"mt-3 fs-1 container",children:Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col",lg:20,children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=null===s||void 0===s?void 0:s.filter((function(e){return e.city===b}));N(t),a(t),console.log(g)},children:Object(v.jsxs)("div",{class:"mb-3",children:[Object(v.jsxs)("label",{className:"form-label",children:["Enter your City:",Object(v.jsx)("input",{type:"text",value:b,className:"form-control",onChange:function(e){return u(e.target.value)}})]}),Object(v.jsx)("input",{className:"form-control",type:"submit"})]})})})})}),1==t&&Object(v.jsx)(A,{}),Object(v.jsxs)(O.a,{children:[console.log(g),null===g||void 0===g?void 0:g.map((function(e){return Object(v.jsxs)(I.a,{style:{width:"25rem"},className:"mr-4",children:[Object(v.jsx)(I.a.Img,{variant:"top",style:{height:"300px"},src:e.image}),Object(v.jsxs)(I.a.Body,{children:[Object(v.jsx)(I.a.Title,{children:e.name}),Object(v.jsxs)(I.a.Text,{children:[Object(v.jsxs)("div",{children:["Rent per Hour :",e.rentPerHour]}),Object(v.jsxs)("div",{children:["Name of the Shop :",e.nameOfShop]}),Object(v.jsxs)("div",{children:["Address of the shop :",e.address]}),Object(v.jsxs)("div",{children:["City-",e.city]})]}),Object(v.jsx)("button",{className:"btn1 mr-2",children:Object(v.jsx)(o.b,{to:"/booking/".concat(e._id),children:"Book Now"})})]})]})}))]})]})})},L=c(316),q=c(317),G=c(93),E=c.n(G);c(144);E.a.init();var H=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.alertsReducer})).loading;return Object(v.jsxs)("div",{className:"login",children:[t&&Object(v.jsx)(A,{}),Object(v.jsxs)(O.a,{gutter:16,className:"d-flex align-items-center",children:[Object(v.jsxs)(m.a,{lg:16,style:{position:"relative"},children:[Object(v.jsx)("img",{className:"w-100","data-aos":"slide-right","data-aos-duration":"1500",src:"https://images.pexels.com/photos/2933243/pexels-photo-2933243.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}),Object(v.jsx)("h1",{className:"login-logo",children:"FARM-X"})]}),Object(v.jsx)(m.a,{lg:8,className:"text-left p-5",children:Object(v.jsxs)(L.a,{layout:"vertical",className:"login-form p-5",onFinish:function(t){var c;e((c=t,function(){var e=Object(u.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.post("/api/users/login",c);case 4:r=e.sent,localStorage.setItem("user",JSON.stringify(r.data)),N.b.success("Login success"),t({type:"LOADING",payload:!1}),setTimeout((function(){window.location.href="/preHome"}),500),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),N.b.error("Something went wrong"),t({type:"LOADING",payload:!1});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())),console.log(t)},children:[Object(v.jsx)("h1",{children:"Login"}),Object(v.jsx)("hr",{}),Object(v.jsx)(L.a.Item,{name:"username",label:"Username",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"password",label:"Password",rules:[{required:!0}],children:Object(v.jsx)(q.a,{type:"password"})}),Object(v.jsx)("button",{className:"btn1 mt-2",children:"Login"}),Object(v.jsx)("hr",{}),Object(v.jsx)(o.b,{to:"/register",children:"Click Here to Register"})]})})]})]})};E.a.init();var F=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.alertsReducer})).loading;return Object(v.jsxs)("div",{className:"login",children:[t&&Object(v.jsx)(A,{}),Object(v.jsxs)(O.a,{gutter:16,className:"d-flex align-items-center",children:[Object(v.jsxs)(m.a,{lg:16,style:{position:"relative"},children:[Object(v.jsx)("img",{className:"w-100","data-aos":"slide-left","data-aos-duration":"1500",src:"https://th.bing.com/th/id/R.2193ed2b05371fa474bdc8e87131c220?rik=2e9cxi9ryJJZUA&riu=http%3a%2f%2ffarmingequipmentcanada.com%2fwp-content%2fuploads%2f2013%2f01%2ffarm-equipment-list-tractor.jpg&ehk=qjzJoXIsc9I40%2fRJaOn5I25aleNwdG2Y3Qq84e5wK9c%3d&risl=&pid=ImgRaw&r=0"}),Object(v.jsx)("h1",{className:"login-logo",children:"FARM-X"})]}),Object(v.jsx)(m.a,{lg:8,className:"text-left p-5",children:Object(v.jsxs)(L.a,{layout:"vertical",className:"login-form p-5",onFinish:function(t){var c;e((c=t,function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.post("/api/users/register",c);case 4:e.sent,N.b.success("Registration successfull"),setTimeout((function(){window.location.href="/login"}),500),t({type:"LOADING",payload:!1}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),N.b.error("Something went wrong"),t({type:"LOADING",payload:!1});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),console.log(t)},children:[Object(v.jsx)("h1",{children:"Register"}),Object(v.jsx)("hr",{}),Object(v.jsx)(L.a.Item,{name:"username",label:"Username",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"password",label:"Password",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"cpassword",label:"Confirm Password",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)("button",{className:"btn1 mt-2 mb-3",children:"Register"}),Object(v.jsx)("br",{}),Object(v.jsx)(o.b,{to:"/login",children:"Click Here to Login"})]})})]})]})},P=c(314),_=c(320),M=c(319),B=function(e){return function(){var t=Object(u.a)(b.a.mark((function t(c){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"LOADING",payload:!0}),t.prev=1,t.next=4,g.a.post("/api/bookings/bookcar",e);case 4:c({type:"LOADING",payload:!1}),N.b.success("Your car booked successfully"),setTimeout((function(){window.location.href="/userbookings"}),500),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),c({type:"LOADING",payload:!1}),N.b.error("Something went wrong , please try later");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},J=c(184),Y=c.n(J),U=S.a.RangePicker;var X=function(e){var t=e.match,c=Object(j.c)((function(e){return e.carsReducer})).cars,n=Object(j.c)((function(e){return e.alertsReducer})).loading,s=Object(r.useState)({}),a=Object(l.a)(s,2),o=a[0],i=a[1],d=Object(j.b)(),b=Object(r.useState)(),u=Object(l.a)(b,2),h=u[0],x=u[1],p=Object(r.useState)(),f=Object(l.a)(p,2),g=f[0],N=f[1],k=Object(r.useState)(0),I=Object(l.a)(k,2),S=I[0],D=I[1],T=Object(r.useState)(!1),C=Object(l.a)(T,2),L=C[0],q=C[1],G=Object(r.useState)(0),E=Object(l.a)(G,2),H=E[0],F=E[1],J=Object(r.useState)(!1),X=Object(l.a)(J,2),z=X[0],K=X[1];return Object(r.useEffect)((function(){0==c.length?d(w()):i(c.find((function(e){return e._id==t.params.carid})))}),[c]),Object(r.useEffect)((function(){F(S*o.rentPerHour),L&&F(H+.2*H)}),[L,S]),Object(v.jsxs)(y,{children:[n&&Object(v.jsx)(A,{}),Object(v.jsxs)(O.a,{justify:"center",className:"d-flex align-items-center",style:{minHeight:"90vh"},children:[Object(v.jsx)(m.a,{lg:10,sm:24,xs:24,className:"p-3",children:Object(v.jsx)("img",{src:o.image,className:"carimg2 bs1 w-100","data-aos":"flip-left","data-aos-duration":"1500"})}),Object(v.jsxs)(m.a,{lg:10,sm:24,xs:24,className:"text-right",children:[Object(v.jsx)(P.a,{type:"horizontal",dashed:!0,children:"Car Info"}),Object(v.jsxs)("div",{style:{textAlign:"right",background:"white",color:"black",opacity:.7},children:[Object(v.jsx)("p",{children:o.name}),Object(v.jsxs)("p",{children:[o.rentPerHour," Rent Per hour /-"]}),Object(v.jsxs)("p",{children:[" ",o.nameOfShop]}),Object(v.jsxs)("p",{children:[" ",o.address]}),Object(v.jsxs)("p",{children:[" ",o.nameOfDriver]}),Object(v.jsxs)("p",{children:[" ",o.phoneNo]})]}),Object(v.jsx)(P.a,{type:"horizontal",dashed:!0,children:"Select Time Slots"}),Object(v.jsx)(U,{showTime:{format:"HH:mm"},format:"MMM DD yyyy HH:mm",onChange:function(e){x(R()(e[0]).format("MMM DD yyyy HH:mm")),N(R()(e[1]).format("MMM DD yyyy HH:mm")),D(e[1].diff(e[0],"hours"))}}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{className:"btn1 mt-2",onClick:function(){K(!0)},children:"See Booked Slots"}),h&&g&&Object(v.jsxs)("div",{style:{textAlign:"right",background:"white",color:"black",opacity:.7},children:[Object(v.jsxs)("p",{children:["Total Hours : ",Object(v.jsx)("b",{children:S})]}),Object(v.jsxs)("p",{children:["Rent Per Hour : ",Object(v.jsx)("b",{children:o.rentPerHour})]}),Object(v.jsx)(_.a,{onChange:function(e){e.target.checked?q(!0):q(!1)},children:"Driver Required"}),Object(v.jsxs)("h3",{children:["Total Amount : ",H]}),Object(v.jsx)("button",{className:"btn1",onClick:function(){var e={user:JSON.parse(localStorage.getItem("user"))._id,car:o._id,totalHours:S,nameOfDriver:o.nameOfDriver,phoneNo:o.phoneNo,nameOfShop:o.nameOfShop,phoneNoShop:o.phoneNoShop,address:o.address,city:o.city,totalAmount:H,driverRequired:L,bookedTimeSlots:{from:h,to:g}};d(B(e))},children:"Book COD"}),Object(v.jsx)("br",{}),Object(v.jsx)(Y.a,{shippingAddress:!0,token:function(e){var t={token:e,user:JSON.parse(localStorage.getItem("user"))._id,car:o._id,totalHours:S,nameOfDriver:o.nameOfDriver,phoneNo:o.phoneNo,nameOfShop:o.nameOfShop,phoneNoShop:o.phoneNoShop,address:o.address,city:o.city,totalAmount:H,driverRequired:L,bookedTimeSlots:{from:h,to:g}};d(B(t))},currency:"inr",amount:100*H,stripeKey:"pk_test_51IYnC0SIR2AbPxU0TMStZwFUoaDZle9yXVygpVIzg36LdpO8aSG8B9j2C0AikiQw2YyCI8n4faFYQI5uG3Nk5EGQ00lCfjXYvZ",children:Object(v.jsx)("button",{className:"btn1",children:"Book Now by giving advance amount"})})]})]}),o.name&&Object(v.jsx)(M.a,{visible:z,closable:!1,footer:!1,title:"Booked time slots",children:Object(v.jsxs)("div",{className:"p-2",children:[o.bookedTimeSlots.map((function(e){return Object(v.jsxs)("button",{className:"btn1 mt-2",children:[e.from," - ",e.to]})})),Object(v.jsx)("div",{className:"text-right mt-5",children:Object(v.jsx)("button",{className:"btn1",onClick:function(){K(!1)},children:"CLOSE"})})]})})]})]})};c(304);var z=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=Object(j.b)(),c=Object(j.c)((function(e){return e.bookingsReducer})).bookings,n=Object(j.c)((function(e){return e.alertsReducer})).loading,s=Object(r.useState)(""),a=Object(l.a)(s,2),o=a[0],i=a[1],d=JSON.parse(localStorage.getItem("user"));Object(r.useEffect)((function(){t(function(){var e=Object(u.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.get("/api/bookings/getallbookings");case 4:c=e.sent,t({type:"GET_ALL_BOOKINGS",payload:c.data}),t({type:"LOADING",payload:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:"LOADING",payload:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[o]);var h=function(){var e=Object(u.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/bookings/delete",{carid:t});case 3:c=e.sent,i("x"),console.log(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=new Date,p=x.getFullYear(),f=x.getMonth()+1,N=x.getDate(),w=x.getHours(),k=x.getMinutes(),I=new Date(p+"-"+f+"-"+N+" "+w+":"+k+":00");return Object(v.jsxs)(y,{children:[n&&Object(v.jsx)(A,{}),Object(v.jsx)("h3",{className:"text-center mt-2",children:"My Bookings"}),Object(v.jsx)(O.a,{justify:"center",gutter:16,children:Object(v.jsx)(m.a,{lg:16,sm:24,children:c.filter((function(e){return e.user==d._id})).map((function(t){var c=t.bookedTimeSlots.to.split(" ")[2],r=t.bookedTimeSlots.to.split(" ")[1],n=t.bookedTimeSlots.to.split(" ")[0],s=e.indexOf(n)+1,a=t.bookedTimeSlots.to.split(" ")[3].split(":")[0],o=t.bookedTimeSlots.to.split(" ")[3].split(":")[1],i=new Date(c+"-"+s+"-"+r+" "+a+":"+o+":00");return Object(v.jsxs)(O.a,{gutter:16,className:"bs1 mt-3 text-left",style:{backgroundColor:"white",opacity:.7},children:[Object(v.jsxs)(m.a,{lg:6,sm:24,children:[Object(v.jsx)("p",{children:Object(v.jsx)("b",{children:t.car.name})}),Object(v.jsxs)("p",{children:["Total hours : ",Object(v.jsx)("b",{children:t.totalHours})]}),Object(v.jsxs)("p",{children:["Rent per hour : ",Object(v.jsx)("b",{children:t.car.rentPerHour})]}),Object(v.jsxs)("p",{children:["Total amount : ",Object(v.jsx)("b",{children:t.totalAmount})]}),Object(v.jsxs)("p",{children:["Name of The driver : ",Object(v.jsx)("b",{children:t.car.nameOfDriver})]}),Object(v.jsxs)("p",{children:["Contact number : ",Object(v.jsx)("b",{children:t.car.phoneNo})]})]}),Object(v.jsxs)(m.a,{lg:12,sm:24,children:[t.transactionId?Object(v.jsxs)("p",{children:["Transaction Id : ",Object(v.jsx)("b",{children:t.transactionId})]}):Object(v.jsxs)("p",{children:["Transaction Id :",Object(v.jsx)("b",{children:" Your order is COD"})]}),Object(v.jsxs)("p",{children:["From: ",Object(v.jsx)("b",{children:t.bookedTimeSlots.from})]}),Object(v.jsxs)("p",{children:["To: ",Object(v.jsx)("b",{children:t.bookedTimeSlots.to})]}),Object(v.jsxs)("p",{children:["Date of booking:"," ",Object(v.jsx)("b",{children:R()(t.createdAt).format("MMM DD yyyy")})]}),Object(v.jsxs)("p",{children:["Name of The Shop : ",Object(v.jsx)("b",{children:t.car.nameOfShop})]}),Object(v.jsxs)("p",{children:["Phone of The Shop : ",Object(v.jsx)("b",{children:t.car.phoneNoShop})]})]}),Object(v.jsx)(m.a,{lg:6,sm:24,className:"text-right",children:Object(v.jsx)("img",{style:{borderRadius:5},src:t.car.image,height:"140",className:"p-2"})}),console.log(i,I),i>I?Object(v.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){return e=t._id,void("yes"===prompt("Are you sure you want to delete it? If Yes,then please type yes in the boYour will get refund within 3-4 working days")?h(e):console.log("a"));var e},children:"Delete"}):Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"btn btn-bg-danger-subtle disabled",children:"Delete"})})]},t._id)}))})})]})};var K=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.alertsReducer})).loading;return Object(v.jsxs)(y,{children:[t&&Object(v.jsx)(A,{}),Object(v.jsx)(O.a,{justify:"center mt-5",children:Object(v.jsx)(m.a,{lg:12,sm:24,xs:24,className:"p-2",children:Object(v.jsxs)(L.a,{className:"bs1 p-2",layout:"vertical",onFinish:function(t){var c;console.log(t),t.bookedTimeSlots=[],e((c=t,function(){var e=Object(u.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"LOADING",payload:!0}),e.prev=1,console.log(c),e.next=5,g.a.post("/api/cars/addcar",c);case 5:t({type:"LOADING",payload:!1}),N.b.success("New car added successfully"),setTimeout((function(){window.location.href="/admin"}),500),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t({type:"LOADING",payload:!1});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(v.jsx)("h3",{children:"Add New Equipment"}),Object(v.jsx)("hr",{}),Object(v.jsx)(L.a.Item,{name:"name",label:"Equipment name",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"nameOfDriver",label:"Name of the Driver",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"phoneNo",label:"Phone Number",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"nameOfShop",label:"Name of the shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"phoneNoShop",label:"Phone Number of shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"address",label:"Address of the shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"city",label:"Shop location city",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"image",label:"Image url",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"rentPerHour",label:"Rent per hour",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"capacity",label:"Capacity",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"fuelType",label:"Fuel Type",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)("div",{className:"text-right",children:Object(v.jsx)("button",{className:"btn1",children:"ADD CAR"})})]})})})]})},Q=c(324),Z=c(325),V=c(322);S.a.RangePicker;var W=function(){var e=Object(j.c)((function(e){return e.carsReducer})).cars,t=Object(j.c)((function(e){return e.alertsReducer})).loading,c=Object(r.useState)([]),n=Object(l.a)(c,2),s=n[0],a=n[1],i=Object(j.b)();return Object(r.useEffect)((function(){i(w())}),[]),Object(r.useEffect)((function(){a(e)}),[e]),Object(v.jsx)(y,{children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(O.a,{justify:"center",gutter:16,className:"mt-2",children:Object(v.jsx)(m.a,{lg:20,sm:24,children:Object(v.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(v.jsx)("h3",{className:"mt-1 mr-2",children:"Admin Panel"}),Object(v.jsx)("button",{className:"btn1",children:Object(v.jsx)("a",{href:"/addcar",children:"ADD Equipment"})}),Object(v.jsx)("button",{className:"btn1",children:Object(v.jsx)("a",{href:"/allbookings",children:"See all bookings"})})]})})}),1==t&&Object(v.jsx)(A,{}),Object(v.jsx)(O.a,{children:null===s||void 0===s?void 0:s.map((function(e){return Object(v.jsxs)(I.a,{style:{width:"25rem"},className:"mr-4",children:[Object(v.jsx)(I.a.Img,{variant:"top",style:{height:"300px"},src:e.image}),Object(v.jsxs)(I.a.Body,{children:[Object(v.jsx)(I.a.Title,{children:e.name}),Object(v.jsxs)(I.a.Text,{children:[Object(v.jsxs)("div",{children:["Rent per Hour :",e.rentPerHour]}),Object(v.jsxs)("div",{children:["Name of the Shop :",e.nameOfShop]}),Object(v.jsxs)("div",{children:["Address of the shop :",e.address]}),Object(v.jsxs)("div",{children:["City-",e.city]})]}),Object(v.jsxs)("div",{className:"mr-4",children:[Object(v.jsx)(o.b,{to:"/editcar/".concat(e._id),children:Object(v.jsx)(Q.a,{className:"mr-3",style:{color:"green",cursor:"pointer"}})}),Object(v.jsx)(V.a,{title:"Are you sure to delete this car?",onConfirm:function(){var t;i((t={carid:e._id},function(){var e=Object(u.a)(b.a.mark((function e(c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.post("/api/cars/deletecar",t);case 4:c({type:"LOADING",payload:!1}),N.b.success("Car deleted successfully"),setTimeout((function(){window.location.reload()}),500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),c({type:"LOADING",payload:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))},okText:"Yes",cancelText:"No",children:Object(v.jsx)(Z.a,{style:{color:"red",cursor:"pointer"}})})]})]})]})}))})]})})};var $=function(e){var t=e.match,c=Object(j.c)((function(e){return e.carsReducer})).cars,n=Object(j.b)(),s=Object(j.c)((function(e){return e.alertsReducer})).loading,a=Object(r.useState)(),o=Object(l.a)(a,2),i=o[0],d=o[1],h=Object(r.useState)([]),x=Object(l.a)(h,2),p=x[0],f=x[1];return Object(r.useEffect)((function(){0==c.length?n(w()):(f(c),d(c.find((function(e){return e._id==t.params.carid}))),console.log(i))}),[c]),Object(v.jsxs)(y,{children:[s&&Object(v.jsx)(A,{}),Object(v.jsx)(O.a,{justify:"center mt-5",children:Object(v.jsx)(m.a,{lg:12,sm:24,xs:24,className:"p-2",children:p.length>0&&Object(v.jsxs)(L.a,{initialValues:i,className:"bs1 p-2",layout:"vertical",onFinish:function(e){var t;e._id=i._id,n((t=e,function(){var e=Object(u.a)(b.a.mark((function e(c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOADING",payload:!0}),e.prev=1,e.next=4,g.a.post("/api/cars/editcar",t);case 4:c({type:"LOADING",payload:!1}),N.b.success("Car details updated successfully"),setTimeout((function(){window.location.href="/admin"}),500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),c({type:"LOADING",payload:!1});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),console.log(e)},children:[Object(v.jsx)("h3",{children:"Add New Equipment"}),Object(v.jsx)("hr",{}),Object(v.jsx)(L.a.Item,{name:"name",label:"Equipment name",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"nameOfDriver",label:"Name of the Driver",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"phoneNo",label:"Phone Number",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"nameOfShop",label:"Name of the shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"phoneNoShop",label:"Phone Number of shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"address",label:"Address of the shop",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"city",label:"Shop location city",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"image",label:"Image url",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"rentPerHour",label:"Rent per hour",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"capacity",label:"Capacity",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)(L.a.Item,{name:"fuelType",label:"Fuel Type",rules:[{required:!0}],children:Object(v.jsx)(q.a,{})}),Object(v.jsx)("div",{className:"text-right",children:Object(v.jsx)("button",{className:"btn1",children:"Edit Equipment"})})]})})})]})},ee=c(11),te=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(""),a=Object(l.a)(s,2);a[0],a[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var e=Object(u.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/bookings/getallbookings");case 2:t=e.sent,r=t.data,n(r),console.log(r[0].user.username),console.log(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("button",{onClick:function(){window.location.href="/admin"},children:"GO BACK"}),Object(v.jsxs)("table",{class:"table",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"User"}),Object(v.jsx)("th",{scope:"col",children:"Name of shop"}),Object(v.jsx)("th",{scope:"col",children:"Name of Driver"}),Object(v.jsx)("th",{scope:"col",children:"Phone of shop"}),Object(v.jsx)("th",{scope:"col",children:"Phone of driver"}),Object(v.jsx)("th",{scope:"col",children:"Equipment"}),Object(v.jsx)("th",{scope:"col",children:"From"}),Object(v.jsx)("th",{scope:"col",children:"To"}),Object(v.jsx)("th",{scope:"col",children:"Total Amount"}),Object(v.jsx)("th",{scope:"col",children:"Transaction Id"})]})}),Object(v.jsxs)("tbody",{children:[console.log(c),null===c||void 0===c?void 0:c.map((function(e){var t=e.bookedTimeSlots,c=e.car,r=e.totalAmount,n=e.user.username;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{style:{backgroundColor:"white",opacity:"0.7 "},children:[Object(v.jsx)("th",{scope:"row",children:"1"}),Object(v.jsx)("td",{children:n}),Object(v.jsx)("td",{children:c.nameOfShop}),Object(v.jsx)("td",{children:c.nameOfDriver}),Object(v.jsx)("td",{children:c.phoneNoShop}),Object(v.jsx)("td",{children:c.phoneNo}),Object(v.jsx)("td",{children:c.name}),Object(v.jsx)("td",{children:t.from}),Object(v.jsx)("td",{children:t.to}),Object(v.jsx)("td",{children:r}),Object(v.jsx)("td",{children:e.transactionId?e.transactionId:"COD"})]})})}))]})]}),Object(v.jsxs)("button",{type:"button",onClick:function(e){e.preventDefault();var t=null===c||void 0===c?void 0:c.reduce((function(e,t){var c=t.bookedTimeSlots,r=t.car,n=(t.totalAmount,t.user),s=r.nameOfShop,a=r.nameOfDriver,o=r.phoneNoShop,i=r.phoneNo,l=r.name,j=c.from,d=c.to,b=t.totalAmount,u=t.transactionId?t.transactionId:"COD";return e.push([n,s,a,o,i,l,j,d,b,u].join(",")),e}),[]);!function(e){var t=e.data,c=e.fileName,r=e.fileType,n=new Blob([t],{type:r}),s=document.createElement("a");s.download=c,s.href=window.URL.createObjectURL(n);var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});s.dispatchEvent(a),s.remove()}({data:[].concat(["User,Shop,Driver,Phone_shop,Phone_Driver,Equipment,From,To,Total,Transaction_ID"],Object(ee.a)(t)).join("\n"),fileName:"users.csv",fileType:"text/csv"})},children:[" ","Download data in excel format"]})]})},ce=function(){return Object(v.jsx)("div",{children:"DeleteBooking"})},re=c(187),ne=c(77),se=c(323),ae=c(72),oe=function(){return Object(v.jsx)("footer",{style:{backgroundColor:"black",color:"white",width:"100%"},children:Object(v.jsx)(k.a,{children:Object(v.jsxs)(re.a,{children:[Object(v.jsxs)(ne.a,{children:[Object(v.jsx)("h5",{style:{color:"white"},children:"FARM-X"}),Object(v.jsx)("div",{children:"The purpose of Farm-x is to provide connections between different roles in the agriculture industry. As the farmers are not getting a fair price for their goods because of contractors. This app removes the requirement of contractors for farmers. Farmers can buy their required needs for farming from Sellers and they can also sell their products to the Consumers"})]}),Object(v.jsxs)(ne.a,{children:[Object(v.jsx)("h5",{style:{color:"white"},children:"Links"}),Object(v.jsx)("div",{children:"Farmer"}),Object(v.jsx)("div",{children:"krishi site"}),Object(v.jsx)("div",{children:"Ek aur"})]}),Object(v.jsxs)(ne.a,{children:[Object(v.jsx)("h5",{style:{color:"white"},children:"Contact us"}),Object(v.jsx)("div",{children:"Tushar Kumar"}),Object(v.jsx)("div",{children:"tushar.kumar9179@gmail.com"}),Object(v.jsx)("div",{children:"+91 9045730781"})]}),Object(v.jsxs)(ne.a,{children:[Object(v.jsx)("h5",{style:{color:"white"},children:"Contact Us"}),Object(v.jsxs)(ae.a,{children:[Object(v.jsxs)(ae.a.Group,{controlId:"name",children:[Object(v.jsx)(ae.a.Label,{children:"Name"}),Object(v.jsx)(ae.a.Control,{type:"text",placeholder:"Enter your name"})]}),Object(v.jsxs)(ae.a.Group,{controlId:"email",children:[Object(v.jsx)(ae.a.Label,{children:"Email"}),Object(v.jsx)(ae.a.Control,{type:"email",placeholder:"Enter your email"})]}),Object(v.jsx)(se.a,{variant:"primary",type:"submit",children:"Send"})]})]})]})})})},ie=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"header bs1",children:Object(v.jsx)(re.a,{gutter:16,justify:"center",children:Object(v.jsx)(ne.a,{lg:20,sm:24,xs:24,children:Object(v.jsx)("div",{className:"d-flex justify-content-between",children:Object(v.jsx)("h1",{children:Object(v.jsx)("b",{children:Object(v.jsx)(o.b,{to:"/",style:{color:"orangered"},children:"FARM-X"})})})})})})}),Object(v.jsxs)("div",{className:"container farmerContainer",children:[Object(v.jsx)("h1",{className:"title",children:"FARMER"}),Object(v.jsx)("h4",{className:"farmer-title",children:"If you are a farmer then you are at perfect platfrom from where you can hire all of your farming related machines and make your equipment available for hiring."}),Object(v.jsxs)(I.a,{children:[Object(v.jsx)(I.a.Img,{variant:"top",src:"https://www.theindiaforum.in/sites/default/files/styles/cover_story/public/field/image/2022/06/21/ramkumar-radhakrishnan-wikimedia-1622193304-1622193304.jpeg"}),Object(v.jsx)(o.b,{to:"/",style:{height:"60px",fontSize:"30px"},children:"Let's Hire"})]})]})]}),Object(v.jsx)(oe,{})]})},le=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1];return Object(v.jsx)("div",{children:Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),g.a.post("/api/otp/verify",{num:c})},children:Object(v.jsx)("input",{type:"text",value:c,className:"form-control",onChange:function(e){return n(e.target.value)}})})})};var je=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(de,{path:"/",exact:!0,component:C}),Object(v.jsx)(de,{path:"/preHome",exact:!0,component:ie}),Object(v.jsx)(i.b,{path:"/login",exact:!0,component:H}),Object(v.jsx)(i.b,{path:"/loginOTP",exact:!0,component:le}),Object(v.jsx)(i.b,{path:"/register",exact:!0,component:F}),Object(v.jsx)(de,{path:"/booking/:carid",exact:!0,component:X}),Object(v.jsx)(de,{path:"/userbookings",exact:!0,component:z}),Object(v.jsx)(de,{path:"/addcar",exact:!0,component:K}),Object(v.jsx)(de,{path:"/allbookings",exact:!0,component:te}),Object(v.jsx)(de,{path:"/deleteBooking",exact:!0,component:ce}),Object(v.jsx)(de,{path:"/editcar/:carid",exact:!0,component:$}),Object(v.jsx)(de,{path:"/admin",exact:!0,component:W})]})})};function de(e){return localStorage.getItem("user")?Object(v.jsx)(i.b,Object(a.a)({},e)):Object(v.jsx)(i.a,{to:"/login"})}var be=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,326)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),s(e),a(e)}))},ue=c(101),he=c(188),Oe=c(189),me={loading:!1},xe={cars:[]},pe={bookings:[]},fe=Object(he.composeWithDevTools)({}),ge=Object(ue.combineReducers)({carsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;return"GET_ALL_CARS"===t.type?Object(a.a)(Object(a.a)({},e),{},{cars:t.payload}):e},alertsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return"LOADING"===t.type?Object(a.a)(Object(a.a)({},e),{},{loading:t.payload}):e},bookingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;return"GET_ALL_BOOKINGS"===t.type?Object(a.a)(Object(a.a)({},e),{},{bookings:t.payload}):e}}),ve=Object(ue.createStore)(ge,fe(Object(ue.applyMiddleware)(Oe.a)));s.a.render(Object(v.jsx)(j.a,{store:ve,children:Object(v.jsx)(je,{})}),document.getElementById("root")),be()}},[[307,1,2]]]);
//# sourceMappingURL=main.b229eb97.chunk.js.map